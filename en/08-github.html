<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-CA" xml:lang="en-CA"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Julien Martin">
<meta name="description" content="Early version needed to be severely updated/modified">
<title>On the R-way to hell - 8&nbsp; Version control with Git and GitHub</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./98-references.html" rel="next">
<link href="./07-rmarkdown.html" rel="prev">
<link href="./cover.jpg" rel="icon" type="image/jpeg">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-6LLMGL3T2Q"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-6LLMGL3T2Q', { 'anonymize_ip': true});
</script><link rel="stylesheet" href="css/style.css">
</head>
<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">R Way</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link active" href="./99-App-data.html" aria-current="page"> 
<span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-other-resources" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Other resources</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-other-resources">
<li>
    <a class="dropdown-item" href="https://biostats-uottawa.github.io/">
 <span class="dropdown-text">Biostats uOttawa</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://biostats-uottawa.github.io/bio4158_course/">
 <span class="dropdown-text">Bio4158 (english)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://biostats-uottawa.github.io/bio4558_cours/">
 <span class="dropdown-text">Bio4558 (fran√ßais)</span></a>
  </li>  
    </ul>
</li>
</ul>
</div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/biostats-uottawa/R_way/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item quarto-navbar-tools-item" href="./On-the-R-way-to-hell.pdf">
              <i class="bi bi-bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="./On-the-R-way-to-hell.epub">
              <i class="bi bi-bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
</div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./08-github.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Version control with Git and GitHub</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting started</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Some R basics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data in R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-graphics_short.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Graphics with R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-stats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Simple Statistics in R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Programming in R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Reproducible reports with R markdown / Quarto</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-github.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Version control with Git and GitHub</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./98-references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./99-App-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Data used in this book</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./99-App-latex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Installing R Markdown and latex</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#what-is-version-control" id="toc-what-is-version-control" class="nav-link active" data-scroll-target="#what-is-version-control"><span class="header-section-number">8.1</span> What is version control?</a></li>
  <li><a href="#why-use-version-control" id="toc-why-use-version-control" class="nav-link" data-scroll-target="#why-use-version-control"><span class="header-section-number">8.2</span> Why use version control?</a></li>
  <li><a href="#what-is-git-and-github" id="toc-what-is-git-and-github" class="nav-link" data-scroll-target="#what-is-git-and-github"><span class="header-section-number">8.3</span> What is Git and GitHub?</a></li>
  <li>
<a href="#setup_git" id="toc-setup_git" class="nav-link" data-scroll-target="#setup_git"><span class="header-section-number">8.4</span> Getting started</a>
  <ul class="collapse">
<li><a href="#install-git" id="toc-install-git" class="nav-link" data-scroll-target="#install-git"><span class="header-section-number">8.4.1</span> Install Git</a></li>
  <li><a href="#configure-git" id="toc-configure-git" class="nav-link" data-scroll-target="#configure-git"><span class="header-section-number">8.4.2</span> Configure Git</a></li>
  <li><a href="#rs_config" id="toc-rs_config" class="nav-link" data-scroll-target="#rs_config"><span class="header-section-number">8.4.3</span> Configure RStudio</a></li>
  <li><a href="#vsc_config" id="toc-vsc_config" class="nav-link" data-scroll-target="#vsc_config"><span class="header-section-number">8.4.4</span> Configure VSCode</a></li>
  <li><a href="#register-a-github-account" id="toc-register-a-github-account" class="nav-link" data-scroll-target="#register-a-github-account"><span class="header-section-number">8.4.5</span> Register a GitHub account</a></li>
  </ul>
</li>
  <li>
<a href="#setting-up-a-project" id="toc-setting-up-a-project" class="nav-link" data-scroll-target="#setting-up-a-project"><span class="header-section-number">8.5</span> Setting up a project</a>
  <ul class="collapse">
<li><a href="#in-rstudio" id="toc-in-rstudio" class="nav-link" data-scroll-target="#in-rstudio"><span class="header-section-number">8.5.1</span> in RStudio</a></li>
  <li><a href="#opt1" id="toc-opt1" class="nav-link" data-scroll-target="#opt1"><span class="header-section-number">8.5.2</span> Option 1 - GitHub first</a></li>
  <li><a href="#opt2" id="toc-opt2" class="nav-link" data-scroll-target="#opt2"><span class="header-section-number">8.5.3</span> Option 2 - RStudio first</a></li>
  <li><a href="#in-vscode" id="toc-in-vscode" class="nav-link" data-scroll-target="#in-vscode"><span class="header-section-number">8.5.4</span> in VSCode</a></li>
  </ul>
</li>
  <li>
<a href="#use_git" id="toc-use_git" class="nav-link" data-scroll-target="#use_git"><span class="header-section-number">8.6</span> Using Git with RStudio</a>
  <ul class="collapse">
<li><a href="#tracking-changes" id="toc-tracking-changes" class="nav-link" data-scroll-target="#tracking-changes"><span class="header-section-number">8.6.1</span> Tracking changes</a></li>
  <li><a href="#commit-history" id="toc-commit-history" class="nav-link" data-scroll-target="#commit-history"><span class="header-section-number">8.6.2</span> Commit history</a></li>
  <li><a href="#undo" id="toc-undo" class="nav-link" data-scroll-target="#undo"><span class="header-section-number">8.6.3</span> Reverting changes</a></li>
  </ul>
</li>
  <li>
<a href="#use_git_vsc" id="toc-use_git_vsc" class="nav-link" data-scroll-target="#use_git_vsc"><span class="header-section-number">8.7</span> Using Git with VSCode</a>
  <ul class="collapse">
<li><a href="#tracking-changes-1" id="toc-tracking-changes-1" class="nav-link" data-scroll-target="#tracking-changes-1">Tracking changes</a></li>
  <li><a href="#commit-history-1" id="toc-commit-history-1" class="nav-link" data-scroll-target="#commit-history-1">Commit History</a></li>
  <li><a href="#reverting-changes" id="toc-reverting-changes" class="nav-link" data-scroll-target="#reverting-changes">Reverting changes</a></li>
  </ul>
</li>
  <li><a href="#collab" id="toc-collab" class="nav-link" data-scroll-target="#collab"><span class="header-section-number">8.8</span> Collaborate with Git</a></li>
  <li><a href="#git-tips" id="toc-git-tips" class="nav-link" data-scroll-target="#git-tips"><span class="header-section-number">8.9</span> Git tips</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources"><span class="header-section-number">8.10</span> Further resources</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/biostats-uottawa/R_way/edit/main/08-github.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/biostats-uottawa/R_way/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title"><span id="github_r" class="quarto-section-identifier"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Version control with Git and GitHub</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>This Chapter will introduce you to the basics of using a version control system to keep track of all your important R code and facilitate collaboration with colleagues and the wider world. This Chapter will focus on using the software ‚ÄòGit‚Äô in combination with the web-based hosting service ‚ÄòGitHub‚Äô. By the end of the Chapter, you will be able to install and configure Git and GitHub on your computer and setup and work with a version controlled project in RStudio. We won‚Äôt be covering more advanced topics such as branching, forking and pull requests in much detail but we do give an overview <a href="#collab">later</a> on in the Chapter.</p>
<p>Just a few notes of caution. In this Chapter we‚Äôll be using RStudio to interface with Git as it gives you a nice friendly graphical user interface which generally makes life a little bit easier (and who doesn‚Äôt want that?). However, one downside to using RStudio with Git is that RStudio only provides pretty basic Git functionality through its menu system. That‚Äôs fine for most of what we‚Äôll be doing during this Chapter (although we will introduce a few Git commands as we go along) but if you really want to benefit from using Git‚Äôs power you will need to <a href="#resources">learn</a> some Git commands and syntax and change for another IDE such as <a href="https://code.visualstudio.com/">VSCode</a> which is much much better when it comes to integration with github. Git can become a little bewildering and frustrating when you first start using it. This is mostly due to the terminology and liberal use of jargon associated with Git, but there‚Äôs no hiding the fact that it‚Äôs quite easy to get yourself and your Git repository into a pickle. Therefore, we‚Äôve tried hard to keep things as straight forward as we can during this Chapter and as a result we do occasionally show you a couple of very ‚Äòun-Git‚Äô ways of doing things (mostly about reverting to previous versions of documents). Don‚Äôt get hung up about this, there‚Äôs no shame to using these low tech solutions and if it works then it works. Lastly, GitHub was not designed to host very large files and will warn you if you try to add files greater than 50 MB and block you adding files greater than 100 MB. If your project involves using large file sizes there are a <a href="https://help.github.com/en/github/managing-large-files/configuring-git-large-file-storage">few solutions</a> but we find the easiest solution is to host these files elsewhere (Googledrive, Dropbox etc) and create a link to them in a README file or R markdown document on Github.</p>
<section id="what-is-version-control" class="level2" data-number="8.1"><h2 data-number="8.1" class="anchored" data-anchor-id="what-is-version-control">
<span class="header-section-number">8.1</span> What is version control?</h2>
<p>A <a href="https://en.wikipedia.org/wiki/Version_control">Version Control System</a> (VCS) keeps a record of all the changes you make to your files that make up a particular project and allows you to revert to previous versions of files if you need to. To put it another way, if you muck things up or accidentally lose important files you can easily roll back to a previous stage in your project to sort things out. Version control was originally designed for collaborative software development, but it‚Äôs equally useful for scientific research and collaborations (although admittedly a lot of the terms, jargon and functionality are focused on the software development side). There are many different version control systems currently available, but we‚Äô we‚Äôll focus on using <em>Git</em>, because it‚Äôs free and open source and it integrates nicely with RStudio. This means that its can easily become part of your usual workflow with minimal additional overhead.</p>
</section><section id="why-use-version-control" class="level2" data-number="8.2"><h2 data-number="8.2" class="anchored" data-anchor-id="why-use-version-control">
<span class="header-section-number">8.2</span> Why use version control?</h2>
<p>So why should you worry about version control? Well, first of all it helps avoid this (familiar?) situation when you‚Äôre working on a project</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/Messy_folder.PNG" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%"></p>
<figcaption>You need version control</figcaption></figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>usually arising from this (familiar?) scenario</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/final_doc.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Version control automatically takes care of keeping a record of all the versions of a particular file and allows you to revert back to previous versions if you need to. Version control also helps you (especially the future you) keep track of all your files in a single place and it helps others (especially collaborators) review, contribute to and reuse your work through the GitHub website. Lastly, your files are always available from anywhere and on any computer, all you need is an internet connection.</p>
</section><section id="what-is-git-and-github" class="level2" data-number="8.3"><h2 data-number="8.3" class="anchored" data-anchor-id="what-is-git-and-github">
<span class="header-section-number">8.3</span> What is Git and GitHub?</h2>
<p><strong>Git</strong> is a version control system originally developed by <a href="https://en.wikipedia.org/wiki/Linus_Torvalds">Linus Torvalds</a> that lets you track changes to a set of files. These files can be any type of file including the menagerie of files that typically make up a data orientated project (.pdf, .Rmd, .docx, .txt, .jpg etc) although plain text files work the best. All the files that make up a project is called a <strong>repository</strong> (or just <strong>repo</strong>).</p>
<p><strong>GitHub</strong> is a web-based hosting service for Git repositories which allows you to create a remote copy of your local version-controlled project. This can be used as a backup or archive of your project or make it accessible to you and to your colleagues so you can work collaboratively.</p>
<p>At the start of a project we typically (but not always) create a <strong>remote</strong> repository on GitHub, then <strong>clone</strong> (think of this as copying) this repository to our <strong>local</strong> computer (the one in front of you). This cloning is usually a one time event and you shouldn‚Äôt need to clone this repository again unless you really muck things up. Once you have cloned your repository you can then work locally on your project as usual, creating and saving files for your data analysis (scripts, R markdown documents, figures etc). Along the way you can take snapshots (called <strong>commits</strong>) of these files after you‚Äôve made important changes. We can then <strong>push</strong> these changes to the remote GitHub repository to make a backup or make available to our collaborators. If other people are working on the same project (<strong>repository</strong>), or maybe you‚Äôre working on a different computer, you can <strong>pull</strong> any changes back to your local repository so everything is synchronised.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/Github_cartoon2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
</section><section id="setup_git" class="level2" data-number="8.4"><h2 data-number="8.4" class="anchored" data-anchor-id="setup_git">
<span class="header-section-number">8.4</span> Getting started</h2>
<p>This Chapter assumes that you have already installed the latest versions of R and an IDE (RStudio or VSCode). If you haven‚Äôt done this yet you can find instructions <a href="01-intro.html#install_r">here</a>.</p>
<section id="install-git" class="level3" data-number="8.4.1"><h3 data-number="8.4.1" class="anchored" data-anchor-id="install-git">
<span class="header-section-number">8.4.1</span> Install Git</h3>
<p>To get started, you first need to install Git. If you‚Äôre lucky you may already have Git installed (especially if you have a Mac or Linux computer). You can check if you already have Git installed by clicking on the Terminal tab in the Console window in RStudio and typing <code>git --version</code> (the space after the <code>git</code> command is important). If you see something that looks like <code>git version 2.25.0</code> (the version number may be different on your computer) then you already have Git installed (happy days). If you get an error (something like <code>git: command not found</code>) this means you don‚Äôt have Git installed (yet!).</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/git_version.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>You can also do this check outside RStudio by opening up a separate Terminal if you want. On Windows go to the ‚ÄòStart menu‚Äô and in the search bar (or run box) type <code>cmd</code> and press enter. On a Mac go to ‚ÄòApplications‚Äô in Finder, click on the ‚ÄòUtilities‚Äô folder and then on the ‚ÄòTerminal‚Äô program. On a Linux machine simply open the Terminal (Ctrl+Alt+T often does it).</p>
<p>To install Git on a <strong>Windows</strong> computer we recommend you download and install Git for Windows (also known as ‚ÄòGit Bash‚Äô). You can find the download file and installation instructions <a href="https://git-scm.com/downloads">here</a>.</p>
<p>For those of you using a <strong>Mac</strong> computer we recommend you download Git from <a href="https://git-scm.com/downloads">here</a> and install in the usual way (double click on the installer package once downloaded). If you‚Äôve previously installed Xcode on your Mac and want to use a more up to date version of Git then you will need to follow a few more steps documented <a href="https://github.com/timcharper/git_osx_installer">here</a>. If you‚Äôve never heard of Xcode then don‚Äôt worry about it!</p>
<p>For those of you lucky enough to be working on a <strong>Linux</strong> machine you can simply use your OS package manager to install Git from the official repository. For Ubuntu Linux (or variants of) open your Terminal and type</p>
<pre class="markup"><code>sudo apt update
sudo apt install git</code></pre>
<p>You will need administrative privileges to do this. For other versions of Linux see <a href="https://git-scm.com/download/linux">here</a> for further installation instructions.</p>
<p>Whatever version of Git you‚Äôre installing, once the installation has finished verify that the installation process has been successful by running the command <code>git --version</code> in the Terminal tab in RStudio (as described above). On some installations of Git (yes we‚Äôre looking at you MS Windows) this may still produce an error as you will also need to setup RStudio so it can find the Git executable (described <a href="#rs_config">below</a>).</p>
</section><section id="configure-git" class="level3" data-number="8.4.2"><h3 data-number="8.4.2" class="anchored" data-anchor-id="configure-git">
<span class="header-section-number">8.4.2</span> Configure Git</h3>
<p>After installing Git, you need to configure it so you can use it. Click on the Terminal tab in the Console window again and type the following:</p>
<pre><code>git config --global user.email 'you@youremail.com'

git config --global user.name 'Your Name'</code></pre>
<p>substituting <code>'Your Name'</code> for your actual name and <code>'you@youremail.com'</code> with your email address. We recommend you use your University email address (if you have one) as you will also use this address when you register for your GitHub account (coming up in a bit).</p>
<p>If this was successful, you should see no error messages from these commands. To verify that you have successfully configured Git type the following into the Terminal</p>
<pre><code>git config --global --list</code></pre>
<p>You should see both your <code>user.name</code> and <code>user.email</code> configured.</p>
</section><section id="rs_config" class="level3" data-number="8.4.3"><h3 data-number="8.4.3" class="anchored" data-anchor-id="rs_config">
<span class="header-section-number">8.4.3</span> Configure RStudio</h3>
<p>As you can see above, Git can be used from the command line, but it also integrates well with RStudio, providing a friendly graphical user interface. If you want to use RStudio‚Äôs Git integration (we recommend you do - at least at the start), you need to check that the path to the Git executable is specified correctly. In RStudio, go to the menu <code>Tools</code> -&gt; <code>Global Options</code> -&gt; <code>Git/SVN</code> and make sure that ‚ÄòEnable version control interface for RStudio projects‚Äô is ticked and that the ‚ÄòGit executable:‚Äô path is correct for your installation. If it‚Äôs not correct hit the <code>Browse...</code> button and navigate to where you installed git and click on the executable file. You will need to restart RStudio after doing this.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/git_path.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="vsc_config" class="level3" data-number="8.4.4"><h3 data-number="8.4.4" class="anchored" data-anchor-id="vsc_config">
<span class="header-section-number">8.4.4</span> Configure VSCode</h3>
<blockquote class="blockquote">
<p>to develop</p>
</blockquote>
</section><section id="register-a-github-account" class="level3" data-number="8.4.5"><h3 data-number="8.4.5" class="anchored" data-anchor-id="register-a-github-account">
<span class="header-section-number">8.4.5</span> Register a GitHub account</h3>
<p>If all you want to do is to keep track of files and file versions on your local computer then Git is sufficient. If however, you would like to make an off-site copy of your project or make it available to your collaborators then you will need a web-based hosting service for your Git repositories. This is where GitHub comes into play (there are also other services like <a href="https://about.gitlab.com/">GitLab</a>, <a href="https://bitbucket.org/product">Bitbucket</a> and <a href="https://savannah.gnu.org/">Savannah</a>). You can sign up for a free account on GitHub <a href="https://github.com/join?source=header-home">here</a>. You will need to specify a username, an email address and a strong password. We suggest that you use your University email address (if you have one) as this will also allow you to apply for a free <a href="https://help.github.com/en/github/teaching-and-learning-with-github-education/applying-for-an-educator-or-researcher-discount">educator or researcher account</a> later on which gives you some useful <a href="https://help.github.com/en/github/teaching-and-learning-with-github-education/about-github-education-for-educators-and-researchers">benefits</a> (don‚Äôt worry about this now though). When it comes to choosing a username we suggest you give this some thought. Choose a short(ish) rather than a long username, use all lowercase and hyphenate if you want to include multiple words, find a way of incorporating your actual name and lastly, choose a username that you will feel comfortable revealing to your future employer!</p>
<p>Next click on the ‚ÄòSelect a plan‚Äô (you may have to solve a simple puzzle first to verify you‚Äôre human) and choose the ‚ÄòFree Plan‚Äô option. Github will send an email to the email address you supplied for you to verify.</p>
<p>Once you‚Äôve completed all those steps you should have both Git and GitHub setup up ready for you to use (Finally!).</p>
</section></section><section id="setting-up-a-project" class="level2" data-number="8.5"><h2 data-number="8.5" class="anchored" data-anchor-id="setting-up-a-project">
<span class="header-section-number">8.5</span> Setting up a project</h2>
<section id="in-rstudio" class="level3" data-number="8.5.1"><h3 data-number="8.5.1" class="anchored" data-anchor-id="in-rstudio">
<span class="header-section-number">8.5.1</span> in RStudio</h3>
<p>Now that you‚Äôre all set up, let‚Äôs create your first version controlled RStudio project. There are a couple of different approaches you can use to do this. You can either setup a remote GitHub repository first then connect an RStudio project to this repository (we‚Äôll call this Option 1). Another option is to setup a local repository first and then link a remote GitHub repository to this repository (Option 2). You can also connect an existing project to a GitHub repository but we won‚Äôt cover this here. We suggest that if you‚Äôre completely new to Git and GitHub then use Option 1 as this approach sets up your local Git repository nicely and you can <strong>push</strong> and <strong>pull</strong> immediately. Option 2 requires a little more work and therefore there are more opportunities to go wrong. We will cover both of these options below.</p>
</section><section id="opt1" class="level3" data-number="8.5.2"><h3 data-number="8.5.2" class="anchored" data-anchor-id="opt1">
<span class="header-section-number">8.5.2</span> Option 1 - GitHub first</h3>
<p>To use the GitHub first approach you will first need to create a <strong>repository (repo)</strong> on GitHub. Go to your <a href="https://github.com/">GitHub page</a> and sign in if necessary. Click on the ‚ÄòRepositories‚Äô tab at the top and then on the green ‚ÄòNew‚Äô button on the right</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/new_repo.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Give your new repo a name (let‚Äôs call it <code>first_repo</code> for this Chapter), select ‚ÄòPublic‚Äô, tick on the ‚ÄòInitialize this repository with a README‚Äô (this is important) and then click on ‚ÄòCreate repository‚Äô (ignore the other options for now).</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/new_repo_opt.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Your new GitHub repository will now be created. Notice the README has been rendered in GitHub and is in markdown (.md) format (see <a href="07-rmarkdown.html">Chapter 8</a> on R markdown if this doesn‚Äôt mean anything to you). Next click on the green ‚ÄòClone or Download‚Äô button and copy the <code>https//...</code> URL that pops up for later (either highlight it all and copy or click on the copy to clipboard icon to the right).</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/new_repo_clone.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Ok, we now switch our attention to RStudio. In RStudio click on the <code>File</code> -&gt; <code>New Project</code> menu. In the pop up window select <code>Version Control</code>.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/proj_setup1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Now paste the the URL you previously copied from GitHub into the <code>Repository URL:</code> box. This should then automatically fill out the <code>Project Directory Name:</code> section with the correct repository name (it‚Äôs important that the name of this directory has the same name as the repository you created in GitHub). You can then select where you want to create this directory by clicking on the <code>Browse</code> button opposite the <code>Create project as a subdirectory of:</code> option. Navigate to where you want the directory created and click OK. We also tick the <code>Open in new session</code> option.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/proj_setup2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>RStudio will now create a new directory with the same name as your repository on your local computer and will then <strong>clone</strong> your remote repository to this directory. The directory will contain three new files; <code>first_repo.Rproj</code> (or whatever you called your repository), <code>README.md</code> and <code>.gitignore</code>. You can check this out in the <code>Files</code> tab usually in the bottom right pane in RStudio. You will also have a <code>Git</code> tab in the top right pane with two files listed (we will come to this later on in the Chapter). That‚Äôs it for Option 1, you now have a remote GitHub repository set up and this is linked to your local repository managed by RStudio. Any changes you make to files in this directory will be version controlled by Git.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/proj_setup3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="opt2" class="level3" data-number="8.5.3"><h3 data-number="8.5.3" class="anchored" data-anchor-id="opt2">
<span class="header-section-number">8.5.3</span> Option 2 - RStudio first</h3>
<p>An alternative approach is to create a local RStudio project first and then link to a remote Github repository. As we mentioned before, this option is more involved than Option 1 so feel free to skip this now and come back later to it if you‚Äôre interested. This option is also useful if you just want to create a local RStudio project linked to a local Git repository (i.e.&nbsp;no GitHub involved). If you want to do this then just follow the instructions below omitting the GitHub bit.</p>
<p>&nbsp;</p>
<p>In RStudio click on the <code>File</code> -&gt; <code>New Project</code> menu and select the <code>New Directory</code> option.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/new_proj_RS1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>In the pop up window select the <code>New Project</code> option</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/proj_setup_RS.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>In the New Project window specify a <code>Directory name</code> (choose <code>second_repo</code> for this Chapter) and select where you would like to create this directory on you computer (click the <code>Browse</code> button). Make sure the <code>Create a git repository</code> option is ticked</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/new_proj_RS2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>This will create a version controlled directory called <code>second_repo</code> on your computer that contains two files, <code>second_repo.Rproj</code> and <code>.gitignore</code> (there might also be a <code>.Rhistory</code> file but ignore this). You can check this by looking in the <code>Files</code> tab in RStudio (usually in the bottom right pane).</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/new_proj_RS3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>OK, before we go on to create a repository on GitHub we need to do one more thing - we need to place our <code>second_repo.Rproj</code> and <code>.gitignore</code>files under version control. Unfortunately we haven‚Äôt covered this in detail yet so just follow the next few instructions (blindly!) and we‚Äôll revisit them in the <a href="#use_git">Using Git</a> section of this Chapter.</p>
<p>To get our two files under version control click on the ‚ÄòGit‚Äô tab which is usually in the top tight pane in RStudio</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/new_proj_RS4.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>You can see that both files are listed. Next, tick the boxes under the ‚ÄòStaged‚Äô column for both files and then click on the ‚ÄòCommit‚Äô button.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/new_proj_RS5.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>This will take you to the ‚ÄòReview Changes‚Äô window. Type in the commit message ‚ÄòFirst commit‚Äô in the ‚ÄòCommit message‚Äô window and click on the ‚ÄòCommit‚Äô button. A new window will appear with some messages which you can ignore for now. Click ‚ÄòClose‚Äô to close this window and also close the ‚ÄòReview Changes‚Äô window. The two files should now have disappeared from the Git pane in RStudio indicating a successful commit.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/new_proj_RS6.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>OK, that‚Äôs those two files now under version control. Now we need to create a new repository on GitHub. In your browser go to your <a href="https://github.com/">GitHub page</a> and sign in if necessary. Click on the ‚ÄòRepositories‚Äô tab and then click on the green ‚ÄòNew‚Äô button on the right. Give your new repo the name <code>second_repo</code> (the same as your version controlled directory name) and select ‚ÄòPublic‚Äô. This time <strong>do not</strong> tick the ‚ÄòInitialize this repository with a README‚Äô (this is important) and then click on ‚ÄòCreate repository‚Äô.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/new_proj_RS7.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>This will take you to a Quick setup page which provides you with some code for various situations. The code we are interested in is the code under <code>...or push an existing repository from the command line</code> heading.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/new_proj_RS8.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Highlight and copy the first line of code (note: yours will be slightly different as it will include your GitHub username not mine)</p>
<p><code>git remote add origin https://github.com/alexd106/second_repo.git</code></p>
<p>Switch to RStudio, click on the ‚ÄòTerminal‚Äô tab and paste the command into the Terminal. Now go back to GitHub and copy the second line of code</p>
<p><code>git push -u origin master</code></p>
<p>and paste this into the Terminal in RStudio. You should see something like this</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/new_prog_RS9.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>If you take a look at your repo back on GitHub (click on the <code>/second_repo</code> link at the top) you will see the <code>second_repo.Rproj</code> and <code>.gitignore</code> files have now been <strong>pushed</strong> to GitHub from your local repository.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/new_proj_RS10.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>The last thing we need to do is create and add a <strong>README</strong> file to your repository. A README file describes your project and is written using the same Markdown language you learned in the R markdown <a href="07-rmarkdown.html">Chapter</a>. A good README file makes it easy for others (or the future you!) to use your code and reproduce your project. You can create a README file in RStudio or in GitHub. Let‚Äôs use the second option.</p>
<p>In your repository on GitHub click on the green <code>Add a README</code> button.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/new_proj_RS11.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Now write a short description of your project in the <code>&lt;&gt; Edit new file</code> section and then click on the green <code>Commit new file</code> button.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/new_proj_RS12.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>You should now see the <code>README.md</code> file listed in your repository. It won‚Äôt actually exist on your computer yet as you will need to <strong>pull</strong> these changes back to your local repository, but more about that in the next section.</p>
<p>&nbsp;</p>
<p>Whether you followed Option 1 or Option 2 (or both) you have now successfully setup a version controlled RStudio project (and associated directory) and linked this to a GitHub repository. Git will now monitor this directory for any changes you make to files and also if you add or delete files. If the steps above seem like a bit of an ordeal, just remember, you only need to do this once for each project and it gets much easier over time.</p>
</section><section id="in-vscode" class="level3" data-number="8.5.4"><h3 data-number="8.5.4" class="anchored" data-anchor-id="in-vscode">
<span class="header-section-number">8.5.4</span> in VSCode</h3>
<blockquote class="blockquote">
<p>to develop</p>
</blockquote>
</section></section><section id="use_git" class="level2" data-number="8.6"><h2 data-number="8.6" class="anchored" data-anchor-id="use_git">
<span class="header-section-number">8.6</span> Using Git with RStudio</h2>
<p>Now that we have our project and repositories (both local and remote) set up, it‚Äôs finally time to learn how to use Git in your IDE!</p>
<p>Typically, when using Git your workflow will go something like this:</p>
<ol type="1">
<li><p>You create/delete and edit files in your project directory on your computer as usual (saving these changes as you go)</p></li>
<li><p>Once you‚Äôve reached a natural ‚Äòbreak point‚Äô in your progress (i.e.&nbsp;you‚Äôd be sad if you lost this progress) you <strong>stage</strong> these files</p></li>
<li><p>You then <strong>commit</strong> the changes you made to these staged files (along with a useful commit message) which creates a permanent snapshot of these changes</p></li>
<li><p>You keep on with this cycle until you get to a point when you would like to <strong>push</strong> these changes to GitHub</p></li>
<li><p>If you‚Äôre working with other people on the same project you may also need to <strong>pull</strong> their changes to your local computer</p></li>
</ol>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/workflow_3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>OK, let‚Äôs go through an example to help clarify this workflow.</p>
<p>Open up the <code>first_repo.Rproj</code> you created previously during Option 1. Either use the <code>File</code> -&gt; <code>Open Project</code> menu or click on the top right project icon and select the appropriate project.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/first_Rmd0.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Create an R markdown document inside this project by clicking on the <code>File</code> -&gt; <code>New File</code> -&gt; <code>R markdown</code> menu (remember from the R markdown <a href="07-rmarkdown.html">Chapter</a>?).</p>
<p>Once created, we can delete all the example R markdown code (except the YAML header) as usual and write some interesting R markdown text and include a plot. We‚Äôll use the inbuilt <code>cars</code> dataset to do this. Save this file (cmd + s for Mac or ctrl + s in Windows). Your R markdown document should look something like the following (it doesn‚Äôt matter if it‚Äôs not exactly the same).</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/first_Rmd.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Take a look at the ‚ÄòGit‚Äô tab which should list your new R markdown document (<code>first_doc.Rmd</code> in this example) along with <code>first_repo.Rproj</code>, and <code>.gitignore</code> (you created these files previously when following Option 1).</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/first_Rmd2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Following our workflow, we now need to <strong>stage</strong> these files. To do this tick the boxes under the ‚ÄòStaged‚Äô column for all files. Notice that there is a status icon next to the box which gives you an indication of how the files were changed. In our case all of the files are to be added (capital A) as we have just created them.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/rstudio_git_cols.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:15.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>After you have staged the files the next step is to <strong>commit</strong> the files. This is done by clicking on the ‚ÄòCommit‚Äô button.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/first_Rmd3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>After clicking on the ‚ÄòCommit‚Äô button you will be taken to the ‚ÄòReview Changes‚Äô window. You should see the three files you staged from the previous step in the left pane. If you click on the file name <code>first_doc.Rmd</code> you will see the changes you have made to this file highlighted in the bottom pane. Any content that you have added is highlighted in green and deleted content is highlighted in red. As you have only just created this file, all the content is highlighted in green. To commit these files (take a snapshot) first enter a mandatory commit message in the ‚ÄòCommit message‚Äô box. This message should be relatively short and informative (to you and your collaborators) and indicate why you made the changes, not what you changed. This makes sense as Git keeps track of <em>what</em> has changed and so it is best not to use commit messages for this purpose. It‚Äôs traditional to enter the message ‚ÄòFirst commit‚Äô (or ‚ÄòInitial commit‚Äô) when you commit files for the first time. Now click on the ‚ÄòCommit‚Äô button to commit these changes.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/first_Rmd4.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>A summary of the commit you just performed will be shown. Now click on the ‚ÄòClose‚Äô button to return to the ‚ÄòReview Changes‚Äô window. Note that the staged files have now been removed.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/first_Rmd5.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Now that you have committed your changes the next step is to <strong>push</strong> these changes to GitHub. Before you push your changes it‚Äôs good practice to first <strong>pull</strong> any changes from GitHub. This is especially important if both you and your collaborators are working on the same files as it keeps you local copy up to date and avoids any potential conflicts. In this case your repository will already be up to date but it‚Äôs a good habit to get into. To do this, click on the ‚ÄòPull‚Äô button on the top right of the ‚ÄòReview Changes‚Äô window. Once you have pulled any changes click on the green ‚ÄòPush‚Äô button to push your changes. You will see a summary of the push you just performed. Hit the ‚ÄòClose‚Äô button and then close the ‚ÄòReview Changes‚Äô window.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/first_Rmd6.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>To confirm the changes you made to the project have been pushed to GitHub, open your GitHub page, click on the Repositories link and then click on the <code>first_repo</code> repository. You should see four files listed including the <code>first_doc.Rmd</code> you just pushed. Along side the file name you will see your last commit message (‚ÄòFirst commit‚Äô in this case) and when you made the last commit.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/first_Rmd7.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>To see the contents of the file click on the <code>first_doc.Rmd</code> file name.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/first_Rmd8.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<section id="tracking-changes" class="level3" data-number="8.6.1"><h3 data-number="8.6.1" class="anchored" data-anchor-id="tracking-changes">
<span class="header-section-number">8.6.1</span> Tracking changes</h3>
<p>After following the steps outlined above, you will have successfully modified an RStudio project by creating a new R markdown document, staged and then committed these changes and finally pushed the changes to your GitHub repository. Now let‚Äôs make some further changes to your R markdown file and follow the workflow once again but this time we ‚Äôll take a look at how to identify changes made to files, examine the commit history and how to restore to a previous version of the document.</p>
<p>In RStudio open up the <code>first_repo.Rproj</code> file you created previously (if not already open) then open the <code>first_doc.Rmd</code> file (click on the file name in the <code>Files</code> tab in RStudio).</p>
<p>Let‚Äôs make some changes to this document. Delete the line beginning with ‚ÄòMy first version controlled ‚Ä¶‚Äô and replace it with something more informative (see figure below). We will also change the plotted symbols to red and give the plot axes labels. Lastly, let‚Äôs add a summary table of the dataframe using the <code>kable()</code> and <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> functions (you may need to install the <code>knitr</code> package if you haven‚Äôt done so previously to use the <code>kable()</code> function) and finally render this document to pdf by changing the YAML option to <code>output: pdf_document</code>.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/mod1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Now save these changes and then click the <code>knit</code> button to render to pdf. A new pdf file named <code>first_doc.pdf</code> will be created which you can view by clicking on the file name in the <code>Files</code> tab in RStudio.</p>
<p>Notice that these two files have been added to the <code>Git</code> tab in RStudio. The status icons indicate that the <code>first_doc.Rmd</code> file has been modified (capital M) and the <code>first_doc.pdf</code> file is currently untracked (question mark).</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/mod2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>To stage these files tick the ‚ÄòStaged‚Äô box for each file and click on the ‚ÄòCommit‚Äô button to take you to the ‚ÄòReview Changes‚Äô window</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/mod3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Before you commit your changes notice the status of <code>first_doc.pdf</code> has changed from untracked to added (A). You can view the changes you have made to the <code>first_doc.Rmd</code> by clicking on the file name in the top left pane which will provide you with a useful summary of the changes in the bottom pane (technically called diffs). Lines that have been deleted are highlighted in red and lines that have been added are highlighted in green (note that from Git‚Äôs point of view, a modification to a line is actually two operations: the removal of the original line followed by the creation of a new line). Once you‚Äôre happy, commit these changes by writing a suitable commit message and click on the ‚ÄòCommit‚Äô button.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/mod4.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>To push the changes to GitHub, click on the ‚ÄòPull‚Äô button first (remember this is good practice even though you are only collaborating with yourself at the moment) and then click on the ‚ÄòPush‚Äô button. Go to your online GitHub repository and you will see your new commits, including the <code>first_doc.pdf</code> file you created when you rendered your R markdown document.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/mod5.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>To view the changes in <code>first_doc.Rmd</code> click on the file name for this file.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/mod6.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="commit-history" class="level3" data-number="8.6.2"><h3 data-number="8.6.2" class="anchored" data-anchor-id="commit-history">
<span class="header-section-number">8.6.2</span> Commit history</h3>
<p>One of the great things about Git and GitHub is that you can view the history of all the commits you have made along with the associated commit messages. You can do this locally using RStudio (or the Git command line) or if you have pushed your commits to GitHub you can check them out on the GitHub website.</p>
<p>To view your commit history in RStudio click on the ‚ÄòHistory‚Äô button (the one that looks like a clock) in the Git pane to bring up the history view in the ‚ÄòReview Changes‚Äô window. You can also click on the ‚ÄòCommit‚Äô or ‚ÄòDiff‚Äô buttons which takes you to the same window (you just need to additionally click on the ‚ÄòHistory‚Äô button in the ‚ÄòReview Changes‚Äô window).</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/c_history.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>The history window is split into two parts. The top pane lists every commit you have made in this repository (with associated commit messages) starting with the most recent one at the top and oldest at the bottom. You can click on each of these commits and the bottom pane shows you the changes you have made along with a summary of the <strong>Date</strong> the commit was made, <strong>Author</strong> of the commit and the commit message (<strong>Subject</strong>). There is also a unique identifier for the commit (<strong>SHA</strong> - Secure Hash Algorithm) and a <strong>Parent</strong> SHA which identifies the previous commit. These SHA identifiers are really important as you can use them to view and revert to previous versions of files (details <a href="#undo">below</a>). You can also view the contents of each file by clicking on the ‚ÄòView file @ SHA key` link (in our case ‚ÄôView file @ 2b4693d1‚Äô).</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/c_history2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>You can also view your commit history on GitHub website but this will be limited to only those commits you have already pushed to GitHub. To view the commit history navigate to the repository and click on the ‚Äòcommits‚Äô link (in our case the link will be labelled ‚Äò3 commits‚Äô as we have made 3 commits).</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/c_history3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>You will see a list of all the commits you have made, along with commit messages, date of commit and the SHA identifier (these are the same SHA identifiers you saw in the RStudio history). You can even browse the repository at a particular point in time by clicking on the <code>&lt;&gt;</code> link. To view the changes in files associated with the commit simply click on the relevant commit link in the list.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/c_history4.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Which will display changes using the usual format of green for additions and red for deletions.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/c_history5.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="undo" class="level3" data-number="8.6.3"><h3 data-number="8.6.3" class="anchored" data-anchor-id="undo">
<span class="header-section-number">8.6.3</span> Reverting changes</h3>
<p>One the great things about using Git is that you are able to revert to previous versions of files if you‚Äôve made a mistake, broke something or just prefer and earlier approach. How you do this will depend on whether the changes you want to discard have been staged, committed or pushed to GitHub. We‚Äôll go through some common scenarios below mostly using RStudio but occasionally we will need to resort to using the Terminal (still in RStudio though).</p>
<section id="changes-saved-but-not-staged-committed-or-pushed" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="changes-saved-but-not-staged-committed-or-pushed">Changes saved but not staged, committed or pushed</h4>
<p>If you have saved changes to your file(s) but not staged, committed or pushed these files to GitHub you can right click on the offending file in the Git pane and select ‚ÄòRevert ‚Ä¶‚Äô. This will roll back all of the changes you have made to the same state as your last commit. Just be aware that you cannot undo this operation so use with caution.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/revert1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>You can also undo changes to just part of a file by opening up the ‚ÄòDiff‚Äô window (click on the ‚ÄòDiff‚Äô button in the Git pane). Select the line you wish to discard by double clicking on the line and then click on the ‚ÄòDiscard line‚Äô button. In a similar fashion you can discard chunks of code by clicking on the ‚ÄòDiscard chunk‚Äô button.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/revert2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="staged-but-not-committed-and-not-pushed" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="staged-but-not-committed-and-not-pushed">Staged but not committed and not pushed</h4>
<p>If you have staged your files, but not committed them then simply unstage them by clicking on the ‚ÄòStaged‚Äô check box in the Git pane (or in the ‚ÄòReview Changes‚Äô window) to remove the tick. You can then revert all or parts of the file as described in the section above.</p>
</section><section id="staged-and-committed-but-not-pushed" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="staged-and-committed-but-not-pushed">Staged and committed but not pushed</h4>
<p>If you have made a mistake or have forgotten to include a file in your last commit which you have not yet pushed to GitHub, you can just fix your mistake, save your changes, and then amend your previous commit. You can do this by staging your file and then tick the ‚ÄòAmend previous commit` box in the ‚ÄôReview Changes‚Äô window before committing.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/revert3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>If we check out our commit history you can see that our latest commit contains both changes to the file rather than having two separate commits. We use the amend commit approach alot but it‚Äôs important to understand that you should <strong>not</strong> do this if you have already pushed your last commit to GitHub as you are effectively rewriting history and all sorts bad things may happen!</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/revert4.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>If you spot a mistake that has happened multiple commits back or you just want to revert to a previous version of a document you have a number of options.</p>
<p><strong>Option 1</strong> - (probably the easiest but very unGit - but like, whatever!) is to look in your commit history in RStudio, find the commit that you would like to go back to and click on the ‚ÄòView file @‚Äô button to show the file contents.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/revert5.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>You can then copy the contents of the file to the clipboard and paste it into your current file to replace your duff code or text. Alternatively, you can click on the ‚ÄòSave As‚Äô button and save the file with a different file name. Once you have saved your new file you can delete your current unwanted file and then carry on working on your new file. Don‚Äôt forget to stage and commit this new file.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/revert6.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Option 2</strong> - (Git like) Go to your Git history, find the commit you would like to roll back to and write down (or copy) its SHA identifier.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/revert7.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Now go to the Terminal in RStudio and type <code>git checkout &lt;SHA&gt; &lt;filename&gt;</code>. In our case the SHA key is <code>2b4693d1</code> and the filename is <code>first_doc.Rmd</code> so our command would look like this:</p>
<pre><code>git checkout 2b4693d1 first_doc.Rmd</code></pre>
<p>The command above will copy the selected file version from the past and place it into the present. RStudio may ask you whether you want to reload the file as it now changed - select yes. You will also need to stage and commit the file as usual.</p>
<p>If you want to revert all your files to the same state as a previous commit rather than just one file you can use (the single ‚Äòdot‚Äô <code>.</code> is important otherwise your HEAD will detach!):</p>
<pre><code>git rm -r .
git checkout 2b4693d1 .
</code></pre>
<p>Note that this will delete all files that you have created since you made this commit so be careful!</p>
</section><section id="staged-committed-and-pushed" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="staged-committed-and-pushed">Staged, committed and pushed</h4>
<p>If you have already pushed your commits to GitHub you can use the <code>git checkout</code> strategy described above and then commit and push to update GitHub (although this is not really considered ‚Äòbest‚Äô practice). Another approach would be to use <code>git revert</code> (Note: as far as we can tell <code>git revert</code> is not the same as the ‚ÄòRevert‚Äô option in RStudio). The <code>revert</code> command in Git essentially creates a new commit based on a previous commit and therefore preserves all of your commit history. To rollback to a previous state (commit) you first need to identify the SHA for the commit you wish to go back to (as we did above) and then use the <code>revert</code> command in the Terminal. Let‚Äôs say we want to revert back to our ‚ÄòFirst commit‚Äô which has a SHA identifier <code>d27e79f1</code>.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/revert8.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>We can use the <code>revert</code> command as shown below in the Terminal. The <code>--no-commit</code> option is used to prevent us from having to deal with each intermediate commit.</p>
<pre><code>git revert --no-commit d27e79f1..HEAD</code></pre>
<p>Your <code>first_doc.Rmd</code> file will now revert back to the same state as it was when you did your ‚ÄòFirst commit‚Äô. Notice also that the <code>first_doc.pdf</code> file has been deleted as this wasn‚Äôt present when we made our first commit. You can now stage and commit these files with a new commit message and finally push them to GitHub. Notice that if we look at our commit history all of the commits we have made are still present.</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/revert9.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>and our repo on GitHub also reflects these changes</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/revert10.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
</section></section></section><section id="use_git_vsc" class="level2" data-number="8.7"><h2 data-number="8.7" class="anchored" data-anchor-id="use_git_vsc">
<span class="header-section-number">8.7</span> Using Git with VSCode</h2>
<p>Now that we have our project and repositories (both local and remote) set up, it‚Äôs finally time to learn how to use Git in VSCode!</p>
<p>Typically, when using Git your workflow will go something like this:</p>
<ol type="1">
<li><p>You create/delete and edit files in your project directory on your computer as usual (saving these changes as you go)</p></li>
<li><p>Once you‚Äôve reached a natural ‚Äòbreak point‚Äô in your progress (i.e.&nbsp;you‚Äôd be sad if you lost this progress) you <strong>stage</strong> these files</p></li>
<li><p>You then <strong>commit</strong> the changes you made to these staged files (along with a useful commit message) which creates a permanent snapshot of these changes</p></li>
<li><p>You keep on with this cycle until you get to a point when you would like to <strong>push</strong> these changes to GitHub</p></li>
<li><p>If you‚Äôre working with other people on the same project you may also need to <strong>pull</strong> their changes to your local computer</p></li>
</ol>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/workflow_3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>OK, let‚Äôs go through an example to help clarify this workflow.</p>
<section id="tracking-changes-1" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="tracking-changes-1">Tracking changes</h3>
</section><section id="commit-history-1" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="commit-history-1">Commit History</h3>
</section><section id="reverting-changes" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="reverting-changes">Reverting changes</h3>
</section></section><section id="collab" class="level2" data-number="8.8"><h2 data-number="8.8" class="anchored" data-anchor-id="collab">
<span class="header-section-number">8.8</span> Collaborate with Git</h2>
<p>GitHub is a great tool for collaboration, it can seem scary and complicated at first, but it is worth investing some time to learn how it works. What makes GitHub so good for collaboration is that it is a <em>distributed system</em>, which means that every collaborator works on their own copy of the project and changes are then merged together in the remote repository. There are two main ways you can set up a collaborative project on GitHub. One is the workflow we went through above, where everybody connects their local repository to the same remote one; this system works well with small projects where different people mainly work on different aspects of the project but can quickly become unwieldy if many people are collaborating and are working on the same files (merge misery!). The second approach consists of every collaborator creating a copy (or <strong>fork</strong>) of the main repository, which becomes their remote repository. Every collaborator then needs to send a request (a <strong>pull request</strong>) to the owner of the main repository to incorporate any changes into the main repository and this includes a review process before the changes are integrated. More detail of these topics can be found in the <a href="#resources">Further resources</a> section.</p>
</section><section id="git-tips" class="level2" data-number="8.9"><h2 data-number="8.9" class="anchored" data-anchor-id="git-tips">
<span class="header-section-number">8.9</span> Git tips</h2>
<p>Generally speaking you should commit often (including amended commits) but push much less often. This makes collaboration easier and also makes the process of reverting to previous versions of documents much more straight forward. We generally only push changes to GitHub when we‚Äôre happy for our collaborators (or the rest of the world) to see our work. However, this is entirely up to you and depends on the project (and who you are working with) and what your priorities are when using Git.</p>
<p>&nbsp;</p>
<p>If you don‚Äôt want to track a file in your repository (maybe they are too large or transient files) you can get Git to ignore the file by adding it to the <code>.gitignore</code> file. On RStudio, in the git pane, you can right clicking on the filename to exclude and selecting ‚ÄòIgnore‚Ä¶‚Äô</p>
<p>&nbsp;</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/tip1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>This will add the filename to the <code>.gitignore</code> file. If you want to ignore multiple files or a particular type of file you can also include wildcards in the <code>.gitignore</code> file. For example to ignore all <code>png</code> files you can include the expression <code>*.png</code> in your <code>.gitignore</code> file and save.</p>
<p>&nbsp;</p>
<p>If it all goes pear shaped and you end up completely trashing your Git repository don‚Äôt despair (we‚Äôve all been there!). As long as your GitHub repository is good, all you need to do is delete the offending project directory on your computer, create a new RStudio project and link this with your remote GitHub repository using <a href="#opt2">Option 2</a>. Once you have cloned the remote repository you should be good to go.</p>
</section><section id="resources" class="level2" data-number="8.10"><h2 data-number="8.10" class="anchored" data-anchor-id="resources">
<span class="header-section-number">8.10</span> Further resources</h2>
<p>There are many good online guides to learn more about git and GitHub and as with any open source software there is a huge community that can be a great resource:</p>
<ul>
<li><p>The British Ecological Society guide to <a href="https://www.britishecologicalsociety.org/wp-content/uploads/2019/06/BES-Guide-Reproducible-Code-2019.pdf">Reproducible Code</a></p></li>
<li><p>The <a href="https://guides.github.com/">GitHub guides</a></p></li>
<li><p>The Mozilla Science Lab <a href="https://mozillascience.github.io/working-open-workshop/github_for_collaboration/">GitHub for Collaboration on Open Projects guide</a></p></li>
<li><p>Jenny Bryan‚Äôs <a href="https://happygitwithr.com/">Happy Git and GitHub</a>. We borrowed the idea (but with different content) of RStudio first, RStudio second in the ‚ÄòSetting up a version controlled Project in RStudio‚Äô section.</p></li>
<li><p>Melanie Frazier‚Äôs <a href="https://ohi-science.org/news/github-going-back-in-time">GitHub: A beginner‚Äôs guide to going back in time (aka fixing mistakes)</a>. We followed this structure (with modifications and different content) in the ‚ÄòReverting changes‚Äô section.</p></li>
<li><p>If you have done something terribly wrong and don‚Äôt know how to fix it try <a href="https://ohshitgit.com/">Oh Shit, Git</a> or if you‚Äôre easily offended <a href="https://dangitgit.com/">Dangit, Git</a></p></li>
</ul>
<p>These are only a couple of examples, all you need to do is Google ‚Äúversion control with git and GitHub‚Äù to see how huge the community around these open source projects is and how many free resources are available for you to become a version control expert.</p>
<!--course website Links-->
<!--cran Links-->
<!--RStudio-->
<!--style guides-->
<!--Package Links-->
<!--Editors-->
<!--Bioconductor Links-->
<!--GitHub Links-->
<!--R markdown Links-->
<!--ggplot Links-->
<!--Basics links-->
<!--Data links-->
<!--Resource Links-->
<!--Misc Links-->


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./07-rmarkdown.html" class="pagination-link  aria-label=" reports="" with="" r="" markdown="" quarto="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Reproducible reports with R markdown / Quarto</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./98-references.html" class="pagination-link" aria-label="References">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p><a href="https://biostats-uottawa.github.io/people.html">Julien Martin</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/biostats-uottawa/R_way/edit/main/08-github.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/biostats-uottawa/R_way/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This book was built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>


</body></html>